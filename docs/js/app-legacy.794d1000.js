(function(){"use strict";var e={8876:function(e,t,n){n(6992),n(8674),n(9601),n(7727);var r=n(144),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-card",{class:e.radius},[n("v-toolbar",{attrs:{color:"dark",dark:"",flat:""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"align-with-title":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{attrs:{to:"/"}},[e._v("Home")]),n("v-tab",{attrs:{to:"/about"}},[e._v("About")])],1)]},proxy:!0}])},[n("v-toolbar-title",[e._v("Singapore Crime Rate")]),n("v-spacer")],1)],1),n("router-view")],1)},o=[],i={data:function(){return{tab:null,items:["Home","About"],radius:"rounded-0"}}},l=i,s=n(1001),c=n(3453),u=n.n(c),d=n(7524),f=n(3237),p=n(9762),v=n(4227),h=n(8917),m=n(1208),y=n(7688),g=n(7921),b=(0,s.Z)(l,a,o,!1,null,null,null),Z=b.exports;u()(b,{VApp:d.Z,VCard:f.Z,VSpacer:p.Z,VTab:v.Z,VTabs:h.Z,VTabsSlider:m.Z,VToolbar:y.Z,VToolbarTitle:g.qW});var w=n(5205);(0,w.z)("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});n(1539),n(8783),n(3948);var k=n(8345),x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("CrimeChart",{attrs:{responseData:e.apiResponse}}),n("p",[n("b",[e._v("Response time: ")]),e.loaded?n("span",[e._v(" API "+e._s(e.benchmark.api.toFixed(3))+" ms ")]):n("span",[e._v(" Loading... ")])])],1)},C=[],_=n(7906),O=n(6133),A=n(2751),D=n(3263),j=n(796),R=n(6035),Y=n(3796),S=n(6198),T=n(9726),V=(n(5003),n(1299),n(2222),n(140)),P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{fluid:""}},[n("MainBody",{attrs:{msg:"Crime Rate in Singapore for Year: "+(e.years.length>0?e.years[e.selectedYearIndex]:"Loading...")}}),e.loaded?n("div",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"12",md:"10"}},[n("div",{attrs:{id:"my_dataviz"}})]),n("v-col",{attrs:{cols:"12",sm:"12",md:"2"}},[n("p",[e._v("Catergories")]),e._l(e.types,(function(t){return n("v-checkbox",{key:t,attrs:{label:t,color:"red darken-4",value:t,"hide-details":""},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})})),n("br"),n("v-btn",{attrs:{elevation:"2",color:"primary"},on:{click:function(t){return e.selectAll()}}},[e._v(" Select All ")]),n("br"),n("br")],2)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"12"}},[n("v-slider",{attrs:{"tick-labels":e.years,max:e.years.length-1,step:"1",ticks:"always","tick-size":"4"},model:{value:e.selectedYearIndex,callback:function(t){e.selectedYearIndex=t},expression:"selectedYearIndex"}})],1)],1)],1):e._e()],1)},E=[],I=n(8932),L=(n(2707),n(7327),n(1249),n(9653),n(7042),n(6699),n(2023),n(45)),N=n(3700),M=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"===typeof Reflect?"undefined":(0,T.Z)(Reflect))&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i};function B(e,t,n){return n.indexOf(e)===t}var F=function(e){(0,j.Z)(n,e);var t=(0,R.Z)(n);function n(){var e;(0,O.Z)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,Y.Z)((0,D.Z)(e),"responseData",void 0),(0,Y.Z)((0,D.Z)(e),"selectedYearIndex",0),(0,Y.Z)((0,D.Z)(e),"loaded",!1),(0,Y.Z)((0,D.Z)(e),"tranformedData",void 0),(0,Y.Z)((0,D.Z)(e),"earliestYear",void 0),(0,Y.Z)((0,D.Z)(e),"latestYear",void 0),(0,Y.Z)((0,D.Z)(e),"types",[]),(0,Y.Z)((0,D.Z)(e),"selected",[]),(0,Y.Z)((0,D.Z)(e),"years",[]),(0,Y.Z)((0,D.Z)(e),"updateChart",(function(){})),e}return(0,A.Z)(n,[{key:"yearData",get:function(){var e=this;return this.tranformedData?this.tranformedData.filter((function(t){return t.year===e.years[e.selectedYearIndex]})).sort((function(e,t){return e.type.localeCompare(t.type)})):[]}},{key:"onDataChanged",value:function(){var e,t,n=this;this.loaded=!1;var r=null===(e=this.responseData)||void 0===e||null===(t=e.result)||void 0===t?void 0:t.records;r?(this.tranformedData=r.map((function(e){return{type:e.level_2,value:Number(e.value),year:Number(e.year)}})),this.loaded=!0,this.earliestYear=Math.min.apply(Math,(0,I.Z)(this.tranformedData.map((function(e){return e.year})))),this.latestYear=Math.max.apply(Math,(0,I.Z)(this.tranformedData.map((function(e){return e.year})))),this.types=this.tranformedData.map((function(e){return e.type})).filter(B).sort((function(e,t){return e.localeCompare(t)})),this.years=this.tranformedData.map((function(e){return e.year})).filter(B),console.log("min",this.earliestYear,"max",this.latestYear,"types",this.types),this.selectedYearIndex=this.years.length-1,this.selected=this.types.slice(),V.w3.nextTick((function(){return n.loadChart()}))):alert("Bad response")}},{key:"selectAll",value:function(){this.selected=this.types}},{key:"mounted",value:function(){var e,t;null!==(e=this.responseData)&&void 0!==e&&null!==(t=e.result)&&void 0!==t&&t.records&&this.onDataChanged()}},{key:"onYearChanged",value:function(){this.updateChart()}},{key:"onSelectedChange",value:function(){this.updateChart()}},{key:"loadChart",value:function(){var e=this;console.log("Loading chart",this.yearData);var t={top:30,right:120,bottom:100,left:120},n=1600-t.left-t.right,r=640-t.top-t.bottom,a=L.Ys("#my_dataviz").append("svg").attr("viewBox",[0,0,n+t.left+t.right,r+t.top+t.bottom]).attr("style","max-width: 100%; height: auto; ").append("g").attr("transform","translate("+t.left+","+t.top+")"),o=L.tiA().range([0,n]).padding(.2),i=a.append("g").attr("transform","translate(0,"+r+")"),l=L.BYU(),s=a.append("g").attr("class","myYaxis");function c(e,t){var n;e=e.filter((function(e){return t.includes(e.type)})),o.domain(e.map((function(e){return e.type}))),i.call(L.LLu(o)).selectAll("text").attr("transform","translate(-10,0)rotate(-20)").style("font-size","14px").style("text-anchor","end"),l.domain([1,null!==(n=L.Fp7(e,(function(e){return e.value})))&&void 0!==n?n:5e3]).range([r,0]),s.transition().duration(333).call(L.y4O(l));var c=a.selectAll("rect").data(e);c.enter().append("rect").merge(c).transition().duration(333).attr("x",(function(e){return o(e.type)})).attr("y",(function(e){return l(e.value)})).attr("width",o.bandwidth()).attr("height",(function(e){return r-l(e.value)})).attr("fill","#b71c1c"),c.exit().remove()}this.updateChart=function(){return c(e.yearData,e.selected)},this.updateChart()}}]),n}(V.w3);M([(0,V.fI)()],F.prototype,"responseData",void 0),M([(0,V.RL)("responseData")],F.prototype,"onDataChanged",null),M([(0,V.RL)("selectedYearIndex")],F.prototype,"onYearChanged",null),M([(0,V.RL)("selected")],F.prototype,"onSelectedChange",null),F=M([(0,V.wA)({components:{MainBody:N.Z}})],F);var z=F,$=z,q=n(557),H=n(9362),J=n(2102),U=n(9846),W=n(2877),G=n(7544),K=(0,s.Z)($,P,E,!1,null,null,null),Q=K.exports;u()(K,{VBtn:q.Z,VCheckbox:H.Z,VCol:J.Z,VContainer:U.Z,VRow:W.Z,VSlider:G.Z});var X=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"===typeof Reflect?"undefined":(0,T.Z)(Reflect))&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i};var ee=function(e){(0,j.Z)(n,e);var t=(0,R.Z)(n);function n(){var e;(0,O.Z)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,Y.Z)((0,D.Z)(e),"apiResponse",{}),(0,Y.Z)((0,D.Z)(e),"loaded",!1),(0,Y.Z)((0,D.Z)(e),"benchmark",{api:0}),e}return(0,A.Z)(n,[{key:"mounted",value:function(){var e=(0,S.Z)((0,_.Z)().mark((function e(){var t,n,r;return(0,_.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=performance.now(),e.prev=1,e.next=4,fetch("https://data.gov.sg/api/action/datastore_search?resource_id=83c21090-bd19-4b54-ab6b-d999c251edcf");case 4:if(n=e.sent,n.ok){e.next=7;break}throw"Not ok response";case 7:return e.t0=JSON,e.next=10,n.text();case 10:e.t1=e.sent,this.apiResponse=e.t0.parse.call(e.t0,e.t1),this.benchmark.api=performance.now()-t,this.loaded=!0,e.next=21;break;case 16:e.prev=16,e.t2=e["catch"](1),r=e.t2,console.error(r),alert("API Error: "+r.message);case 21:case"end":return e.stop()}}),e,this,[[1,16]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"unmounted",value:function(){console.log("unmounted")}}]),n}(V.w3);ee=X([(0,V.wA)({components:{CrimeChart:Q}})],ee);var te=ee,ne=te,re=(0,s.Z)(ne,x,C,!1,null,null,null),ae=re.exports;r.Z.use(k.Z);var oe=[{path:"/",name:"home",component:ae},{path:"/about",name:"about",component:function(){return n.e(443).then(n.bind(n,4033))}}],ie=new k.Z({routes:oe}),le=ie,se=n(1910);r.Z.use(se.Z);var ce=new se.Z({});r.Z.config.productionTip=!1,new r.Z({router:le,vuetify:ce,render:function(e){return e(Z)}}).$mount("#app")},3700:function(e,t,n){n.d(t,{Z:function(){return k}});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("h1",[e._v(e._s(e.msg))])])},a=[],o=n(2751),i=n(6133),l=n(3263),s=n(796),c=n(6035),u=n(3796),d=n(9726),f=(n(5003),n(1539),n(1299),n(2222),n(140)),p=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"===typeof Reflect?"undefined":(0,d.Z)(Reflect))&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},v=function(e){(0,s.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,u.Z)((0,l.Z)(e),"msg",void 0),e}return(0,o.Z)(n)}(f.w3);p([(0,f.fI)()],v.prototype,"msg",void 0),v=p([f.wA],v);var h=v,m=h,y=n(1001),g=n(3453),b=n.n(g),Z=n(9846),w=(0,y.Z)(m,r,a,!1,null,null,null),k=w.exports;b()(w,{VContainer:Z.Z})}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,r,a,o){if(!r){var i=1/0;for(u=0;u<e.length;u++){r=e[u][0],a=e[u][1],o=e[u][2];for(var l=!0,s=0;s<r.length;s++)(!1&o||i>=o)&&Object.keys(n.O).every((function(e){return n.O[e](r[s])}))?r.splice(s--,1):(l=!1,o<i&&(i=o));if(l){e.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[r,a,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/about-legacy.49763661.js"}}(),function(){n.miniCssF=function(e){}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="csc3007-assignment2:";n.l=function(r,a,o,i){if(e[r])e[r].push(a);else{var l,s;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){l=d;break}}l||(s=!0,l=document.createElement("script"),l.charset="utf-8",l.timeout=120,n.nc&&l.setAttribute("nonce",n.nc),l.setAttribute("data-webpack",t+o),l.src=r),e[r]=[a];var f=function(t,n){l.onerror=l.onload=null,clearTimeout(p);var a=e[r];if(delete e[r],l.parentNode&&l.parentNode.removeChild(l),a&&a.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=f.bind(null,l.onerror),l.onload=f.bind(null,l.onload),s&&document.head.appendChild(l)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p=""}(),function(){var e={143:0};n.f.j=function(t,r){var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var o=new Promise((function(n,r){a=e[t]=[n,r]}));r.push(a[2]=o);var i=n.p+n.u(t),l=new Error,s=function(r){if(n.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;l.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",l.name="ChunkLoadError",l.type=o,l.request=i,a[1](l)}};n.l(i,s,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,o,i=r[0],l=r[1],s=r[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(a in l)n.o(l,a)&&(n.m[a]=l[a]);if(s)var u=s(n)}for(t&&t(r);c<i.length;c++)o=i[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(u)},r=self["webpackChunkcsc3007_assignment2"]=self["webpackChunkcsc3007_assignment2"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(8876)}));r=n.O(r)})();
//# sourceMappingURL=app-legacy.794d1000.js.map